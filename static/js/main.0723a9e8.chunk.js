(this["webpackJsonpmountweazel-store"]=this["webpackJsonpmountweazel-store"]||[]).push([[0],{143:function(t,e,c){},145:function(t,e,c){"use strict";c.r(e);var r=c(1),n=c.n(r),a=c(26),s=c.n(a),i=c(17),o=c(18),l=c(20),u=c(19),j=c(12),d=c(13),h=c(28),p=c(146),b=c(147),O=c(162),m=c(148),x=c(149),f=c(11),v=(c(96),c(2)),g=function(t){Object(l.a)(c,t);var e=Object(u.a)(c);function c(t){var r;return Object(i.a)(this,c),(r=e.call(this,t)).state={isNavOpen:!1,isModalOpen:!1},r.toggleNav=r.toggleNav.bind(Object(h.a)(r)),r}return Object(o.a)(c,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){var t=this.props.cart.length;return Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col text-center",children:Object(v.jsx)(j.c,{className:"nav-link",to:"/home",children:Object(v.jsx)("h1",{children:"Storefront"})})})})}),Object(v.jsx)(p.a,{dark:!0,expand:"md",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(b.a,{onClick:this.toggleNav}),Object(v.jsx)(j.c,{className:"nav-link",to:"/cart",children:Object(v.jsxs)("span",{class:"text-white",children:[Object(v.jsx)("i",{className:"fa fa-shopping-cart fa-lg"}),"(",t,")"]})}),Object(v.jsx)(O.a,{isOpen:this.state.isNavOpen,navbar:!0,children:Object(v.jsxs)(m.a,{navbar:!0,className:"center-navbar",children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(j.c,{className:"nav-link",to:"/home",children:"Featured"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(j.c,{className:"nav-link",to:"/category/apparel",children:"Apparel"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(j.c,{className:"nav-link",to:"/category/ducks",children:"Ducks"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(j.c,{className:"nav-link",to:"/category/music",children:"Music"})})]})})]})})]})}}]),c}(r.Component),y=Object(f.connect)((function(t){return{products:t.products,cart:t.cart}}))(g);var S=function(){return Object(v.jsx)("div",{children:"Footer"})};var N=function(t){return Object(v.jsx)(v.Fragment,{children:"This is where the Home component will go eventually"})},C=c(150),D=c(151),q=c(152),w=c(153),z=function(){return Object(v.jsxs)("div",{className:"col",children:[Object(v.jsx)("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(v.jsx)("p",{children:"Loading..."}),console.log("loading...")]})};function k(t){var e=t.product;return Object(v.jsx)(C.a,{children:Object(v.jsxs)(j.b,{to:"/products/".concat(e.id),children:[Object(v.jsx)(D.a,{width:"100%",src:e.image,alt:e.name}),Object(v.jsxs)(q.a,{children:[Object(v.jsx)(w.a,{children:e.name}),Object(v.jsx)(w.a,{children:e.price})]})]})})}var F=function(t){console.log("ProductCards, ",t);var e=t.products.map((function(t){return Object(v.jsx)("div",{className:"col-md-5 m-1",children:Object(v.jsx)(k,{product:t})},t.id)}));return console.log(t.isLoading),t.isLoading?Object(v.jsx)(z,{}):t.errMess?Object(v.jsx)("h4",{children:t.errMess}):Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("hr",{})})}),Object(v.jsx)("div",{className:"row",children:e})]})},M=c(39),T=c(154),L=c(155),A=c(156),I=c(157),R=c(158),P=c(159),E=c(160),_=c(27),J=c(7),B="PRODUCTS_LOADING",Q="PRODUCTS_FAILED",U="ADD_PRODUCTS",X="ADD_TO_CART",G="REMOVE_FROM_CART",H=function(){return function(t){return t(V()),fetch("http://192.168.1.78:3001/products").then((function(t){if(t.ok)return t;var e=new Error("Error ".concat(t.status,": ").concat(t.statusText));throw e.response=t,e}),(function(t){throw new Error(t.message)})).then((function(t){return t.json()})).then((function(e){return t($(e))})).catch((function(e){return t(Y(e.message))}))}},V=function(){return{type:B}},Y=function(t){return{type:Q,payload:t}},$=function(t){return{type:U,payload:t}},K=function(t,e,c){return function(r){var n={itemData:t,quantity:e,size:c};setTimeout((function(){r({type:X,payload:n})}),1e3)}},W=function(t,e,c){return function(r){var n={itemData:t,quantity:e,size:c};setTimeout((function(){r({type:G,payload:n})}),1e3)}},Z=function(t){return{products:t.products,cart:t.cart}},tt={fetchProducts:function(){return H()},resetApparelForm:function(){return _.actions.reset("apparelForm")},postToCart:function(t,e,c){return K(t,e,c)}},et=function(t){Object(l.a)(c,t);var e=Object(u.a)(c);function c(t){var r;return Object(i.a)(this,c),(r=e.call(this,t)).handleBlur=function(t){return function(){r.setState({touched:Object(d.a)(Object(d.a)({},r.state.touched),{},Object(M.a)({},t,!0))})}},r.state={sizeSelect:"Small",quantitySelect:1,touched:{sizeSelect:!1,quantitySelect:!1}},r.handleInputChange=r.handleInputChange.bind(Object(h.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(h.a)(r)),r}return Object(o.a)(c,[{key:"handleSubmit",value:function(t){console.log("Current state is: "+JSON.stringify(this.state)),console.log("Current values is: "+JSON.stringify(t)),alert("Current State is: "+JSON.stringify(this.state)),console.log("sizeSelect: "+this.state.sizeSelect),console.log("quantitySelect: "+this.state.quantitySelect),this.props.postToCart(this.props.itemData,this.state.quantitySelect,this.state.sizeSelect),this.props.resetApparelForm()}},{key:"handleInputChange",value:function(t){var e=this,c=t.target,r="checkbox"===c.type?c.checked:c.value,n=c.name;this.setState(Object(M.a)({},n,r),(function(){return console.log(e.state)}))}},{key:"validate",value:function(t,e){var c={quantitySelect:"",sizeSelect:""};return this.state.touched.quantitySelect&&t<1&&(c.quantitySelect="Quantity must be greater than or equal to 1."),c}},{key:"render",value:function(){var t=this,e=this.validate(this.state.quantitySelect,this.state.sizeSelect);return Object(v.jsxs)(_.Form,{model:"apparelForm",onSubmit:function(e){return t.handleSubmit(e)},children:[this.props.showSize&&Object(v.jsx)(ct,{value:this.state.sizeSelect,onChange:this.handleInputChange,errors:e.sizeSelect}),Object(v.jsxs)(T.a,{className:"form-group",children:[Object(v.jsx)(L.a,{htmlFor:"quantitySelect",children:"Quantity"}),Object(v.jsx)(A.a,{name:"quantitySelect",id:"quantitySelect",type:"number",min:"1",value:this.state.quantitySelect,invalid:e.quantitySelect,onBlur:this.handleBlur("quantitySelect"),onChange:this.handleInputChange}),Object(v.jsx)(I.a,{children:e.quantitySelect})]}),Object(v.jsx)(T.a,{className:"form-group",children:Object(v.jsx)(R.a,{onPress:function(){return t.addToCart()},children:"ADD TO CART"})})]})}}]),c}(r.Component);function ct(t){var e=t.value,c=t.onChange,r=t.errors;return Object(v.jsxs)(T.a,{className:"form-group",children:[Object(v.jsx)(L.a,{htmlFor:"sizeSelect",children:"Size"}),Object(v.jsxs)(A.a,{type:"select",name:"sizeSelect",id:"sizeSelect",value:e,onChange:c,children:[Object(v.jsx)("option",{children:"Small"}),Object(v.jsx)("option",{children:"Medium"}),Object(v.jsx)("option",{children:"Large"}),Object(v.jsx)("option",{children:"XL"}),Object(v.jsx)("option",{children:"XXL"})]}),Object(v.jsx)(I.a,{children:r})]})}var rt=Object(f.connect)(Z,tt)(et);function nt(t){var e=t.product;return Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{class:"row",children:[Object(v.jsx)("div",{className:"col-md-12 col-lg-6",children:Object(v.jsx)("img",{src:e.image,alt:e.name})}),Object(v.jsxs)("div",{className:"col-md-12 col-lg-6",children:[Object(v.jsx)("h2",{children:e.name}),Object(v.jsxs)("h3",{children:["$",e.price]}),Object(v.jsx)(rt,{showSize:"apparel"===e.category,itemData:e}),Object(v.jsx)("div",{children:e.description})]})]})})}var at=Object(J.g)(Object(f.connect)(Z,tt)((function(t){return t.isLoading?Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(z,{})})}):t.errMess?Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("h4",{children:t.errMess})})})}):t.product?Object(v.jsxs)("div",{class:"container",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col",children:[Object(v.jsxs)(P.a,{children:[Object(v.jsx)(E.a,{children:Object(v.jsx)(j.b,{to:"/category/"+t.product.category,children:t.product.category.charAt(0).toUpperCase()+t.product.category.slice(1)})}),Object(v.jsx)(E.a,{active:!0,children:t.product.name})]}),Object(v.jsx)("hr",{})]})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(nt,{product:t.product})})]}):Object(v.jsx)("div",{})}))),st=c(161),it={postRemoveFromCart:function(t,e,c){return W(t,e,c)},postToCart:function(t,e,c){return K(t,e,c)}};function ot(t){var e=t.product,c=(t.cart,t.postRemoveFromCart),r=t.postToCart;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:Object(v.jsx)("img",{src:e.itemData.image,alt:e.itemData.name,height:"100"})}),Object(v.jsxs)("th",{children:[e.itemData.name," (",e.size,")"]}),Object(v.jsxs)("th",{children:["x",e.quantity.toString()]}),Object(v.jsx)("th",{children:Object(v.jsx)(R.a,{onClick:function(){return c(e.itemData,1,e.size)},children:"-"})}),Object(v.jsx)("th",{children:Object(v.jsx)(R.a,{onClick:function(){return r(e.itemData,1,e.size)},children:"+"})}),Object(v.jsx)("th",{children:(e.itemData.price*e.quantity).toFixed(2)})]})}var lt=function(t){Object(l.a)(c,t);var e=Object(u.a)(c);function c(t){return Object(i.a)(this,c),e.call(this,t)}return Object(o.a)(c,[{key:"render",value:function(){var t=this,e=this.props.cart.map((function(e){return e.product=t.props.products.products.find((function(t){return t.id===e.id})),console.log("current item ",e),e})),c=this.props.cart.map((function(e){return Object(v.jsx)("div",{className:"col-md-5 m-1",children:Object(v.jsx)(ot,{product:e,postRemoveFromCart:t.props.postRemoveFromCart,postToCart:t.props.postToCart,cart:t.props.cart})},e.itemData.id)})),r=this.props.cart.reduce((function(t,c){var r=t+c.itemData.price*c.quantity;return console.log("current ",r,t,e,c.itemData.price),t+c.itemData.price*c.quantity}),0),n=this.props.cart.reduce((function(t,c){var r=t+c.quantity;return console.log("current ",r,t,e,c.itemData.price),t+c.quantity}),0);return console.log("total ",r),console.log("total ",n),console.log("cartData ",e),console.log("cart ",this.props.cart),this.props.isLoading?Object(v.jsx)(z,{}):this.props.errMess?Object(v.jsx)("h4",{children:this.props.errMess}):this.props.cart.length?Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h1",{children:"Cart"}),Object(v.jsx)(st.a,{children:Object(v.jsx)("tbody",{children:c})}),Object(v.jsxs)("h2",{children:["Subtotal: ",r.toFixed(2)," (",n," items)"]})]}),Object(v.jsx)("div",{class:"row",children:Object(v.jsx)(R.a,{children:"Proceed to Checkout"})})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Cart"}),Object(v.jsx)("h3",{children:"Your cart is currently empty."})]})}}]),c}(r.Component),ut=Object(f.connect)((function(t){return{products:t.products,cart:t.cart}}),it)(lt),jt={fetchProducts:function(){return H()},resetApparelForm:function(){return _.actions.reset("apparelForm")}},dt=function(t){Object(l.a)(c,t);var e=Object(u.a)(c);function c(){return Object(i.a)(this,c),e.apply(this,arguments)}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var t=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsxs)(J.d,{children:[Object(v.jsx)(J.b,{path:"/home",component:N}),Object(v.jsx)(J.b,{exact:!0,path:"/category/:category",render:function(e){return Object(v.jsx)(F,Object(d.a)(Object(d.a)({products:t.props.products.products.filter((function(t){return t.category===e.match.params.category}))},e),{},{isLoading:t.props.products.isLoading,errMess:t.props.products.errMess}))}}),Object(v.jsx)(J.b,{path:"/products/:productId",component:function(e){var c=e.match;return Object(v.jsx)(at,{product:t.props.products.products.filter((function(t){return t.id===+c.params.productId}))[0],resetApparelForm:t.props.resetApparelForm,isLoading:t.props.products.isLoading,errMess:t.props.products.errMess})}}),Object(v.jsx)(J.b,{path:"/cart",render:function(e){return Object(v.jsx)(ut,{products:t.props.products.products})}}),Object(v.jsx)(J.a,{to:"/home"})]}),Object(v.jsx)(S,{})]})}}]),c}(r.Component),ht=Object(J.g)(Object(f.connect)((function(t){return{products:t.products,cart:t.cart}}),jt)(dt)),pt=c(22),bt=c(87),Ot=c(88),mt=c.n(Ot),xt=c(67),ft=function(){var t,e,c,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case X:return(e=n.filter((function(t){return t.itemData===a.payload.itemData})))&&(console.log("found ",e),t=e.find((function(t){return t.size===a.payload.size})),console.log("sameSize ",t),t)?(c=+t.quantity+ +a.payload.quantity,console.log("newQuantity ",c),r=n.findIndex((function(e){return e==t})),console.log("objIndex ",r),n[r].quantity=+c,console.log("state[objIndex] ",n[r]),Object(xt.a)(n)):n.concat(a.payload);case G:if(e=n.filter((function(t){return t.itemData===a.payload.itemData})))return console.log("found ",e),c=+(t=e.find((function(t){return t.size===a.payload.size}))).quantity-+a.payload.quantity,console.log("newQuantity ",c),r=n.findIndex((function(e){return e==t})),n[r].quantity=+c,0===n[r].quantity?n.filter((function(t){return t.itemData!==a.payload})):Object(xt.a)(n);default:return n}},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,products:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case U:return Object(d.a)(Object(d.a)({},t),{},{isLoading:!1,errMess:null,products:e.payload});case B:return Object(d.a)(Object(d.a)({},t),{},{isLoading:!0,errMess:null,products:[]});case Q:return Object(d.a)(Object(d.a)({},t),{},{isLoading:!1,errMess:e.payload});default:return t}},gt={sizeSelect:"Small",quantitySelect:"1"},yt=(c(143),Object(pt.createStore)(Object(pt.combineReducers)(Object(d.a)({cart:ft,products:vt},Object(_.createForms)({apparelForm:gt}))),Object(pt.applyMiddleware)(bt.a,mt.a))),St=function(t){Object(l.a)(c,t);var e=Object(u.a)(c);function c(){return Object(i.a)(this,c),e.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(v.jsx)(f.Provider,{store:yt,children:Object(v.jsx)(j.a,{basename:"mountweazel-store",children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(ht,{})})})})}}]),c}(r.Component);c(144);s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(St,{})}),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.0723a9e8.chunk.js.map