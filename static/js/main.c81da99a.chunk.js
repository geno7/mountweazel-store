(this["webpackJsonpmountweazel-store"]=this["webpackJsonpmountweazel-store"]||[]).push([[0],{140:function(e,t,c){},142:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(27),s=c.n(a),i=c(17),o=c(18),l=c(20),u=c(19),d=c(12),j=c(13),h=c(28),p=c(143),b=c(144),O=c(159),m=c(145),x=c(146),f=c(11),v=c(2),g=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(e){var r;return Object(i.a)(this,c),(r=t.call(this,e)).state={isNavOpen:!1,isModalOpen:!1},r.toggleNav=r.toggleNav.bind(Object(h.a)(r)),r}return Object(o.a)(c,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){var e=this.props.cart.length;return Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col text-center",children:Object(v.jsx)(d.c,{className:"nav-link",to:"/home",children:Object(v.jsx)("h1",{children:"Storefront"})})})})}),Object(v.jsx)(p.a,{dark:!0,expand:"md",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(b.a,{onClick:this.toggleNav}),Object(v.jsx)(d.c,{className:"nav-link",to:"/cart",children:Object(v.jsxs)("span",{class:"text-white",children:[Object(v.jsx)("i",{className:"fa fa-shopping-cart fa-lg"}),"(",e,")"]})}),Object(v.jsx)(O.a,{isOpen:this.state.isNavOpen,navbar:!0,children:Object(v.jsxs)(m.a,{navbar:!0,className:"center-navbar",children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(d.c,{className:"nav-link",to:"/home",children:"Featured"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(d.c,{className:"nav-link",to:"/category/apparel",children:"Apparel"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(d.c,{className:"nav-link",to:"/category/ducks",children:"Ducks"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(d.c,{className:"nav-link",to:"/category/music",children:"Music"})})]})})]})})]})}}]),c}(r.Component),y=Object(f.connect)((function(e){return{products:e.products,cart:e.cart}}))(g);var S=function(){return Object(v.jsx)("div",{className:"fixed-bottom site-footer text-white text-center",children:"Made in 2021. This is not a real store, this website is a portfolio piece made by Jaden Eckel."})};var N=function(e){return Object(v.jsx)(v.Fragment,{children:"This is where the Home component will go eventually"})},C=c(147),D=c(148),w=c(149),q=c(150),k=function(){return Object(v.jsxs)("div",{className:"col",children:[Object(v.jsx)("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(v.jsx)("p",{children:"Loading..."}),console.log("loading...")]})};function z(e){var t=e.product;return Object(v.jsx)(C.a,{children:Object(v.jsxs)(d.b,{to:"/products/".concat(t.id),children:[Object(v.jsx)(D.a,{width:"100%",src:t.image,alt:t.name}),Object(v.jsxs)(w.a,{children:[Object(v.jsx)(q.a,{children:t.name}),Object(v.jsx)(q.a,{children:t.price})]})]})})}var F=function(e){console.log("ProductCards, ",e);var t=e.products.map((function(e){return Object(v.jsx)("div",{className:"col-md-5 m-1",children:Object(v.jsx)(z,{product:e})},e.id)}));return console.log(e.isLoading),e.isLoading?Object(v.jsx)(k,{}):e.errMess?Object(v.jsx)("h4",{children:e.errMess}):Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("hr",{})})}),Object(v.jsx)("div",{className:"row",children:t})]})},M=c(39),T=c(151),L=c(152),A=c(153),I=c(154),R=c(155),P=c(156),E=c(157),_=c(26),J=c(7),U="PRODUCTS_LOADING",B="PRODUCTS_FAILED",Q="ADD_PRODUCTS",X="ADD_TO_CART",G="REMOVE_FROM_CART",H="http://192.168.1.72:3001/";console.log(H);var V=function(){return function(e){return e(Y()),console.log("the baseUrl variable is ".concat(H)),fetch("https://mountweazel-store-db.herokuapp.com/products").then((function(e){if(e.ok)return e;var t=new Error("Error ".concat(e.status,": ").concat(e.statusText));throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(K(t))})).catch((function(t){return e($(t.message))}))}},Y=function(){return{type:U}},$=function(e){return{type:B,payload:e}},K=function(e){return{type:Q,payload:e}},W=function(e,t,c){return function(r){var n={itemData:e,quantity:t,size:c};setTimeout((function(){r({type:X,payload:n})}),1e3)}},Z=function(e,t,c){return function(r){var n={itemData:e,quantity:t,size:c};setTimeout((function(){r({type:G,payload:n})}),1e3)}},ee=function(e){return{products:e.products,cart:e.cart}},te={fetchProducts:function(){return V()},resetApparelForm:function(){return _.actions.reset("apparelForm")},postToCart:function(e,t,c){return W(e,t,c)}},ce=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(e){var r;return Object(i.a)(this,c),(r=t.call(this,e)).handleBlur=function(e){return function(){r.setState({touched:Object(j.a)(Object(j.a)({},r.state.touched),{},Object(M.a)({},e,!0))})}},r.state={sizeSelect:"Small",quantitySelect:1,touched:{sizeSelect:!1,quantitySelect:!1}},r.handleInputChange=r.handleInputChange.bind(Object(h.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(h.a)(r)),r}return Object(o.a)(c,[{key:"handleSubmit",value:function(e){console.log("Current state is: "+JSON.stringify(this.state)),console.log("Current values is: "+JSON.stringify(e)),alert("Current State is: "+JSON.stringify(this.state)),console.log("sizeSelect: "+this.state.sizeSelect),console.log("quantitySelect: "+this.state.quantitySelect),this.props.postToCart(this.props.itemData,this.state.quantitySelect,this.state.sizeSelect),this.props.resetApparelForm()}},{key:"handleInputChange",value:function(e){var t=this,c=e.target,r="checkbox"===c.type?c.checked:c.value,n=c.name;this.setState(Object(M.a)({},n,r),(function(){return console.log(t.state)}))}},{key:"validate",value:function(e,t){var c={quantitySelect:"",sizeSelect:""};return this.state.touched.quantitySelect&&e<1&&(c.quantitySelect="Quantity must be greater than or equal to 1."),c}},{key:"render",value:function(){var e=this,t=this.validate(this.state.quantitySelect,this.state.sizeSelect);return Object(v.jsxs)(_.Form,{model:"apparelForm",onSubmit:function(t){return e.handleSubmit(t)},children:[this.props.showSize&&Object(v.jsx)(re,{value:this.state.sizeSelect,onChange:this.handleInputChange,errors:t.sizeSelect}),Object(v.jsxs)(T.a,{className:"form-group",children:[Object(v.jsx)(L.a,{htmlFor:"quantitySelect",children:"Quantity"}),Object(v.jsx)(A.a,{name:"quantitySelect",id:"quantitySelect",type:"number",min:"1",value:this.state.quantitySelect,invalid:t.quantitySelect,onBlur:this.handleBlur("quantitySelect"),onChange:this.handleInputChange}),Object(v.jsx)(I.a,{children:t.quantitySelect})]}),Object(v.jsx)(T.a,{className:"form-group",children:Object(v.jsx)(R.a,{onPress:function(){return e.addToCart()},children:"ADD TO CART"})})]})}}]),c}(r.Component);function re(e){var t=e.value,c=e.onChange,r=e.errors;return Object(v.jsxs)(T.a,{className:"form-group",children:[Object(v.jsx)(L.a,{htmlFor:"sizeSelect",children:"Size"}),Object(v.jsxs)(A.a,{type:"select",name:"sizeSelect",id:"sizeSelect",value:t,onChange:c,children:[Object(v.jsx)("option",{children:"Small"}),Object(v.jsx)("option",{children:"Medium"}),Object(v.jsx)("option",{children:"Large"}),Object(v.jsx)("option",{children:"XL"}),Object(v.jsx)("option",{children:"XXL"})]}),Object(v.jsx)(I.a,{children:r})]})}var ne=Object(f.connect)(ee,te)(ce);function ae(e){var t=e.product;return Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{class:"row",children:[Object(v.jsx)("div",{className:"col-md-12 col-lg-6",children:Object(v.jsx)("img",{src:t.image,alt:t.name})}),Object(v.jsxs)("div",{className:"col-md-12 col-lg-6",children:[Object(v.jsx)("h2",{children:t.name}),Object(v.jsxs)("h3",{children:["$",t.price]}),Object(v.jsx)(ne,{showSize:"apparel"===t.category,itemData:t}),Object(v.jsx)("div",{children:t.description})]})]})})}var se=Object(J.g)(Object(f.connect)(ee,te)((function(e){return e.isLoading?Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(k,{})})}):e.errMess?Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col",children:Object(v.jsx)("h4",{children:e.errMess})})})}):e.product?Object(v.jsxs)("div",{class:"container",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col",children:[Object(v.jsxs)(P.a,{children:[Object(v.jsx)(E.a,{children:Object(v.jsx)(d.b,{to:"/category/"+e.product.category,children:e.product.category.charAt(0).toUpperCase()+e.product.category.slice(1)})}),Object(v.jsx)(E.a,{active:!0,children:e.product.name})]}),Object(v.jsx)("hr",{})]})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(ae,{product:e.product})})]}):Object(v.jsx)("div",{})}))),ie=c(158),oe={postRemoveFromCart:function(e,t,c){return Z(e,t,c)},postToCart:function(e,t,c){return W(e,t,c)}};function le(e){var t=e.product,c=(e.cart,e.postRemoveFromCart),r=e.postToCart;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:Object(v.jsx)("img",{src:t.itemData.image,alt:t.itemData.name,height:"100"})}),Object(v.jsxs)("th",{children:[t.itemData.name," (",t.size,")"]}),Object(v.jsxs)("th",{children:["x",t.quantity.toString()]}),Object(v.jsx)("th",{children:Object(v.jsx)(R.a,{onClick:function(){return c(t.itemData,1,t.size)},children:"-"})}),Object(v.jsx)("th",{children:Object(v.jsx)(R.a,{onClick:function(){return r(t.itemData,1,t.size)},children:"+"})}),Object(v.jsx)("th",{children:(t.itemData.price*t.quantity).toFixed(2)})]})}var ue=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){var e=this,t=this.props.cart.map((function(t){return t.product=e.props.products.products.find((function(e){return e.id===t.id})),console.log("current item ",t),t})),c=this.props.cart.map((function(t){return Object(v.jsx)("div",{className:"col-md-5 m-1",children:Object(v.jsx)(le,{product:t,postRemoveFromCart:e.props.postRemoveFromCart,postToCart:e.props.postToCart,cart:e.props.cart})},t.itemData.id)})),r=this.props.cart.reduce((function(e,c){var r=e+c.itemData.price*c.quantity;return console.log("current ",r,e,t,c.itemData.price),e+c.itemData.price*c.quantity}),0),n=this.props.cart.reduce((function(e,c){var r=e+c.quantity;return console.log("current ",r,e,t,c.itemData.price),e+c.quantity}),0);return console.log("total ",r),console.log("total ",n),console.log("cartData ",t),console.log("cart ",this.props.cart),this.props.isLoading?Object(v.jsx)(k,{}):this.props.errMess?Object(v.jsx)("h4",{children:this.props.errMess}):this.props.cart.length?Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{class:"col-md-6 col-sm-12",children:[Object(v.jsx)("h1",{children:"Cart"}),Object(v.jsx)(ie.a,{children:Object(v.jsx)("tbody",{children:c})})]}),Object(v.jsxs)("div",{class:"col-md-6 col-sm-12",children:[Object(v.jsxs)("h2",{children:["Subtotal: ",r.toFixed(2)," (",n," items)"]}),Object(v.jsx)("div",{class:"row",children:Object(v.jsx)(R.a,{children:"Proceed to Checkout"})})]})]})}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Cart"}),Object(v.jsx)("h3",{children:"Your cart is currently empty."})]})}}]),c}(r.Component),de=Object(f.connect)((function(e){return{products:e.products,cart:e.cart}}),oe)(ue),je={fetchProducts:function(){return V()},resetApparelForm:function(){return _.actions.reset("apparelForm")}},he=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsx)("div",{class:"accomodate-footer",children:Object(v.jsxs)(J.d,{children:[Object(v.jsx)(J.b,{path:"/home",component:N}),Object(v.jsx)(J.b,{exact:!0,path:"/category/:category",render:function(t){return Object(v.jsx)(F,Object(j.a)(Object(j.a)({products:e.props.products.products.filter((function(e){return e.category===t.match.params.category}))},t),{},{isLoading:e.props.products.isLoading,errMess:e.props.products.errMess}))}}),Object(v.jsx)(J.b,{path:"/products/:productId",component:function(t){var c=t.match;return Object(v.jsx)(se,{product:e.props.products.products.filter((function(e){return e.id===+c.params.productId}))[0],resetApparelForm:e.props.resetApparelForm,isLoading:e.props.products.isLoading,errMess:e.props.products.errMess})}}),Object(v.jsx)(J.b,{path:"/cart",render:function(t){return Object(v.jsx)(de,{products:e.props.products.products})}}),Object(v.jsx)(J.a,{to:"/home"})]})}),Object(v.jsx)(S,{})]})}}]),c}(r.Component),pe=Object(J.g)(Object(f.connect)((function(e){return{products:e.products,cart:e.cart}}),je)(he)),be=c(22),Oe=c(86),me=c(87),xe=c.n(me),fe=c(67),ve=function(){var e,t,c,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case X:return(t=n.filter((function(e){return e.itemData===a.payload.itemData})))&&(console.log("found ",t),e=t.find((function(e){return e.size===a.payload.size})),console.log("sameSize ",e),e)?(c=+e.quantity+ +a.payload.quantity,console.log("newQuantity ",c),r=n.findIndex((function(t){return t===e})),console.log("objIndex ",r),n[r].quantity=+c,console.log("state[objIndex] ",n[r]),Object(fe.a)(n)):n.concat(a.payload);case G:if(t=n.filter((function(e){return e.itemData===a.payload.itemData})))return console.log("found ",t),c=+(e=t.find((function(e){return e.size===a.payload.size}))).quantity-+a.payload.quantity,console.log("newQuantity ",c),r=n.findIndex((function(t){return t===e})),n[r].quantity=+c,0===n[r].quantity?(console.log("no more of this list item ",n[r]),console.log("itemdata ",t.itemData),console.log("action payload ",a.payload),n.filter((function(e){return e.itemData!==a.payload.itemData}))):Object(fe.a)(n);break;default:return n}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,errMess:null,products:t.payload});case U:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,errMess:null,products:[]});case B:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},ye={sizeSelect:"Small",quantitySelect:"1"},Se=(c(140),Object(be.createStore)(Object(be.combineReducers)(Object(j.a)({cart:ve,products:ge},Object(_.createForms)({apparelForm:ye}))),Object(be.applyMiddleware)(Oe.a,xe.a))),Ne=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(v.jsx)(f.Provider,{store:Se,children:Object(v.jsx)(d.a,{basename:"mountweazel-store",children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(pe,{})})})})}}]),c}(r.Component);c(141);s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(Ne,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.c81da99a.chunk.js.map